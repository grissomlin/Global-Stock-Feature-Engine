name: Only Feature Engineering

on:
  workflow_dispatch:
    inputs:
      market:
        description: 'é¸æ“‡è¦åŠ å·¥çš„å¸‚å ´'
        required: true
        default: 'tw'
        type: choice
        options: [tw, us, cn, hk, jp, kr]

jobs:
  process:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.11'
          cache: 'pip'

      - name: Install Dependencies
        run: pip install pandas numpy

      # ğŸš€ é—œéµï¼šå¾å¿«å–æŠ“å›èˆŠçš„è³‡æ–™åº«
      - name: Restore DB Cache
        uses: actions/cache@v3
        with:
          path: "*.db"
          key: ${{ github.event.inputs.market }}-db-v3- # é€™è£¡ç”¨ restore-keys åŒ¹é…æœ€è¿‘ä¸€æ¬¡æˆåŠŸçš„å¿«å–
          restore-keys: |
            ${{ github.event.inputs.market }}-db-v3-

      - name: Run Processing
        run: python only_feature.py ${{ github.event.inputs.market }}

      # åŠ å·¥å®Œå¾Œï¼Œå¯ä»¥é¸æ“‡å†æ¬¡ä¸Šå‚³åˆ° Google Drive (éœ€è¦è¨­å®š env)
      # ... (æ­¤è™•å¯åŠ å…¥ upload_db_to_drive é‚è¼¯)
